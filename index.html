<!DOCTYPE html>
<html>
<head>
    <title>Invoice PT. Krishand Style</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üìã Invoice Generator</h1>

        <!-- Informasi Perusahaan Pengirim -->
        <div class="section">
            <h2>Sender Company Information</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>Company Name</label>
                    <input type="text" id="companyName" value="CV RIEKI SENROKU CREATIVE">
                </div>
                <div class="form-group">
                    <label>Address</label>
                    <input type="text" id="companyAddress" value="Jakarta Selatan - Indonesia">
                </div>
            </div>
        </div>

        <!-- Informasi Perusahaan Penerima -->
        <div class="section">
            <h2>Recipient Company Information</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>To</label>
                    <input type="text" id="clientName" value="PT ISM BOGASARI FLOUR JAKARTA">
                </div>
                <div class="form-group">
                    <label>Client Address</label>
                    <input type="text" id="clientAddress" value="Jl. Raya Clinchip, Tanjung Priok">
                </div>
                <div class="form-group">
                    <label>City</label>
                    <input type="text" id="clientCity" value="Jakarta Utara - 14110">
                </div>
            </div>
        </div>

        <!-- Detail Invoice -->
        <div class="section">
            <h2>Invoice Details</h2>
            <div class="form-row">
                <div class="form-group" style="position: relative;">
                    <label>Invoice Number</label>
                    <input type="text" id="invoiceNumber" placeholder="Click Generate to create number">
                </div>
                <div class="form-group">
                    <label>Invoice Date</label>
                    <input type="date" id="invoiceDate">
                    <small style="color: #666; margin-top: 5px; display: block;">
                        Default: today
                    </small>
                </div>
            </div>
        </div>

        <!-- Informasi Pembayaran -->
        <div class="section">
            <h2>Payment Information</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>Tax ID (NPWP)</label>
                    <input type="text" id="npwp" value="1000 0000 0720 7103">
                </div>
                <div class="form-group">
                    <label>ID Number (NIK)</label>
                    <input type="text" id="nik" value="">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Bank & Branch</label>
                    <input type="text" id="bankBranch" placeholder="" value="OCBC - KCP ???">
                </div>
                <div class="form-group">
                    <label>Account Number</label>
                    <input type="text" id="accountNumber" value="545800120135">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Account Name</label>
                    <input type="text" id="accountName" value="CV Rieki Senoku Creative">
                </div>
                <div class="form-group">
                    <label>Phone Number</label>
                    <input type="text" id="phoneNumber" value="0812360111">
                </div>
            </div>
        </div>

        <!-- Daftar Barang/Jasa -->
        <div class="section">
            <h2>Items/Services <button type="button" onclick="addItem()">+ Add Item</button></h2>
            <div id="itemsContainer">
                <div class="item-row">
                    <!-- Dropdown SOW akan diisi oleh JavaScript -->
                    <select class="item-sow-dropdown" onchange="selectSOW(this)">
                        <option value="">Select Scope of Work</option>
                        <!-- Options will be added by JS -->
                    </select>

                    <input type="text" placeholder="Custom Scope of Work" class="item-name" style="display: none;">

                    <input type="text" placeholder="Description" class="item-description" value="">

                    <input type="number" placeholder="Quantity" class="item-qty" value="1" min="1" onchange="previewInvoice()">

                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="number" placeholder="Unit Price" class="item-price" value="0" style="flex: 1;" onchange="previewInvoice()">
                        <input type="number" placeholder="Gross Up %" class="item-grossup" value="0" min="0" max="1000"
                               style="width: 80px;" title="Percentage price increase" onchange="previewInvoice()">
                    </div>

                    <button type="button" onclick="removeItem(this)" class="remove-btn">√ó</button>
                </div>
            </div>
        </div>

        <!-- Informasi Tambahan -->
        <div class="section">
            <h2>Additional Information</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>Discount (IDR) <small>(enter amount)</small></label>
                    <input type="number" id="discountAmount" value="0" min="0">
                </div>
                <div class="form-group">
                    <label>Tax 23% (PPH 23) <small>(enter 0 to hide)</small></label>
                    <input type="number" id="taxPercent" value="0" min="0" max="100">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Signatory Name</label>
                    <input type="text" id="signatoryName" value="Sherly Fanny Heriyanti">
                </div>
                <div class="form-group">
                    <label>Position</label>
                    <input type="text" id="signatoryTitle" value="CEO">
                </div>
            </div>

            <!-- SIGNATURE UPLOAD SECTION -->
            <div class="form-row">
                <div class="form-group">
                    <label>Upload Signature (Optional)</label>
                    <input type="file" id="signatureUpload" accept="image/*">
                    <small style="display: block; margin-top: 5px; color: #666;">
                        Format: JPG, PNG. Recommended size: 500x200px
                    </small>
                    <div id="signaturePreview" style="margin-top: 15px; display: none; text-align: center;">
                        <div style="margin-bottom: 10px; font-weight: bold;">Signature Preview:</div>
                        <img id="signatureImage" class="signature-image">
                        <br>
                        <button type="button" onclick="removeSignature()" class="remove-signature-btn">Remove Signature</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Actions -->
        <div class="actions">
            <button onclick="previewInvoice()">üëÅÔ∏è Preview Invoice</button>
            <button onclick="generatePDF()" class="generate-btn">üì• Download PDF</button>
        </div>

        <!-- Invoice Preview -->
        <div id="invoicePreview" class="invoice-preview">
            <!-- PDF content will be generated here -->
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
